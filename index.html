<!doctype html>

<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Little Man Computer</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <h1>Comment fonctionne un ordinateur ?</h1>
    </header>

    <div id="content">
        <section>
            <div class="title">Exemple du Little Man Computer</div>
            <div class="content">
                <p> 
                    Le Little Man Computer est un modèle éducatif d'ordinateur qui a été inventé dans les années 60 par le Dr. Stuart Madnick.
                    De manière générale les ordinateurs ne savent utiliser que des 1 et des 0 mais pour des raisons de simplicité le Little Man Computer utilise
                    aussi des 2, des 3, des 4, des 5, des 6, des 7, des 8 et même des 9. 
                    Sur cette page vous pourrez simuler le fonctionnement d'un Little Man Computer.
                </p>

                <p>
                    La mémoire du Little Man Computer est constituée de 100 cases numérotées de 0 à 99.
                    Le numéro au dessus de chaque case est ce que l'on appelle son adresse.
                    Quand on dit "la valeur à l'adresse A", c'est la même chose que "le nombre qui est dans la case numéro A".
                    Dans les ordinateurs modernes il y a bien plus de 100 cases, par exemple dans celui que j'utilise il y en a précisément 16241912.
                </p> 

                <p>
                    Pour programmer un ordinateur, on lui donne une série d'instructions élémentaires à effectuer (addition, soustraction, déplacer des valeurs dans la mémoire, ...).
                    Dans une architecture de Von Neumann comme le Little Man Computer ou la plupart des ordinateurs,
                    les instructions sont codés en des nombres qui sont mis dans la mémoire, 
                    il n'y a donc pas de différence entre les instructions et les données.
                    Le Little Man Computer a deux cases spéciales séparées de la mémoire qui lui servent à exécuter les instructions (des "registres") : 
                    le compteur d'instruction qui lui dit à quelle instruction il en est
                    et l'accumulateur qui stocke le résultat d'une instruction à l'autre. 
                </p>

                <p>TODO: explication I/O</p>
                <p>TODO: explication sauts</p>
                <p>TODO: explication utilisation du simulateur + la case jaune c'est l'instruction...</p>
                <p>TODO: + d'exemples de programme</p>
                <p>TODO: explication à utiliser sur pc, pas facile à utiliser sur portable</p>

                <p>
                    Pour effectuer une instruction, on prend le nombre qui se trouve à la case dont le numéro est indiqué par le compteur d'instruction
                    puis on regarde ce qu'il faut faire dans le tableau ci-dessous. 
                    Ensuite, si ce n'était pas l'instruction Arrêt ou Saut, on va à l'instruction suivante en ajoutant 1 au compteur d'instruction.
                </p>
           	</div>
        </section>

 
        <section>
            <div class="title">Jeu d'instructions</div>
            <div class="content">
                <p>
                   Plusieurs personnes ont codé de différentes manières les instructions de leur Little Man Computer, 
                   mais tout le monde est d'accord pour les représenter par des nombres entre 0 et 999 
                   avec les deux derniers chiffre qui peuvent donner un numéro de case. 
                   Voilà les instructions qu'utilise ma version du Little Man Computer :
                </p>
                <table id="instructions">
                    <tr> 
                        <th>Code</th>
                        <th>Nom</th>
                        <th>Mnémonique</th>
                        <th>Action</th>
                    </tr>
                    <tr>
                        <td>000</td>
                        <td>Arrêt</td>
                        <td>HLT</td>
                        <td>Arrêter l'exécution du programme, le numéro d'instruction n'est pas incrémenté.</td>
                    </tr>
                    <tr>
                        <td>001</td>
                        <td>Entrée</td>
                        <td>INP</td>
                        <td>Demander à l'utilisateur d'entrer un nombre et le mettre dans l'accumulateur.</td>
                    </tr>
                    <tr>
                        <td>002</td>
                        <td>Sortie</td>
                        <td>OUT</td>
                        <td>Donner à l'utilisateur le nombre qui est dans l'accumulateur.</td>
                    </tr>
                    <tr>
                        <td>100 à 199</td>
                        <td>Sauvegarde</td>
                        <td>STA</td>
                        <td>Remplacer la valeur à l'adresse formée par les deux derniers chiffres du code par le contenu de l'accumulateur.</td>
                    </tr>
                    <tr>
                        <td>200 à 299</td>
                        <td>Chargement</td>
                        <td>LDA</td>
                        <td>Remplacer le contenu de l'accumulateur par la valeur à l'adresse formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>300 à 399</td>
                        <td>Addition</td>
                        <td>ADD</td>
                        <td>Ajouter à l'accumulateur la valeur à l'adresse formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>400 à 499</td>
                        <td>Soustraction</td>
                        <td>SUB</td>
                        <td>Soustraire à l'accumulateur la valeur à l'adresse formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>500 à 599</td>
                        <td>Saut</td>
                        <td>BRA</td>
                        <td>Changer le numéro d'instruction par le nombre formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>600 à 699</td>
                        <td>Saut si zéro</td>
                        <td>BRZ</td>
                        <td>Si la valeur de l'accumulateur est égale à zéro, changer le numéro d'instruction par le nombre formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>700 à 799</td>
                        <td>Saut si positif</td>
                        <td>BRP</td>
                        <td>Si la valeur de l'accumulateur est supérieure ou égale à zéro, changer le numéro d'instruction par le nombre formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>800 à 899</td>
                        <td>Saut si négatif</td>
                        <td>BRN</td>
                        <td>Si la valeur de l'accumulateur est strictement inférieure à zéro, changer le numéro d'instruction par le nombre formée par les deux derniers chiffres du code.</td>
                    </tr>
                </table>
                
            </div>
        </section>

        <section>
            <div class="title">Registres et contrôles</div>
            <div class="content">
                <button onclick="step();">Instruction suivante</button>
                <button onclick="reset_regs();">Remise à zéro</button>
    
                <div id="regs"> 
                    <div class="label">Compteur d'instruction</div>
                    <input id="reg_ip" type="text" readonly>

                    <div class="label">Accumulateur</div>
                    <input id="reg_acc" type="text" readonly>
                
                    <div class="label">Message de l'ordinateur</div>
                    <textarea id="log" readonly rows="3" cols="10"></textarea>
                </div>
            </div>
        </section>

        <section>
            <div class="title">Mémoire</div>
            <div class="content">
                <button onclick="reset_mem();">Remise à zéro</button>
                <button onclick="example(0);">Exemple addition</button>
                <button onclick="example(0);">Exemple ---</button>
                <button onclick="example(0);">Exemple ---</button>
                <button onclick="example(0);">Exemple ---</button>
                <button onclick="example(0);">Exemple ---</button>
                <table id="memory"></table>
            </div>  
        </section>

    </div> 
    <script src="script.js"></script>
    <script>init();</script>

</body>
</html>

