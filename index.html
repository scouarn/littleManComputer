<!doctype html>

<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Little Man Computer</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header>
        <h1>Comment fonctionne un ordinateur ?</h1>
    </header>

    <div id="content">
        <section>
            <div class="title">Exemple du Little Man Computer</div>
            <div class="content">
                <p> 
                    Le Little Man Computer est un modèle éducatif d'ordinateur qui a été inventé dans les années 60 par le Dr. Stuart Madnick.
                    De manière générale les ordinateurs ne savent utiliser que des 1 et des 0 mais pour des raisons de simplicité le Little Man Computer utilise
                    aussi des 2, des 3, des 4, des 5, des 6, des 7, des 8 et même des 9. 
                </p>

                <p>
                    La mémoire du Little Man Computer est constituée de 100 cases (96 de plus qu'un Shadok !) numérotées de 0 à 99.
                    Le numéro au dessus de chaque case est ce que l'on appelle son adresse.
                    Quand on dit "la valeur à l'adresse A", c'est la même chose que "le nombre qui est dans la case numéro A".
                    Le Little Man Computer a aussi deux cases spéciales (des "registres") : le compteur d'étape et l'accumulateur.
                </p> 
    
                <p>
                    Dans les ordinateurs modernes il y a bien plus de 100 cases, par exemple dans celui que j'utilise il y en a précisément 16241912.
                    De la même manière, dans le processeur d'un téléphone il y a des dizaines de registres.
                </p> 

                <p>
                    Pour programmer un ordinateur, on lui donne une série d'instructions élémentaires à effectuer (addition, soustraction, déplacer des valeurs dans la mémoire, ...).
                    Dans une architecture de Von Neumann comme le Little Man Computer ou la plupart des ordinateurs,
                    les instructions sont codés en nombres et mis dans la mémoire, 
                    il n'y a donc pas de différence entre les instructions et les données.
                </p>
                
                <p>
                    INCREMENT
                </p>
 
                <p>
                    ACC            
                </p>
 
                <p>
                   IO 
                </p>

                <p>
                    JUMPS 
                </p>

                <p>
                    Pour effectuer une instruction, on prend le code d'instruction qui se trouve à case dont le numéro est indiqué par le compteur d'étape
                    puis on regarde à la liste ci-dessous. 
                    Ensuite, si ce n'était pas l'instruction Arrêt ou un Saut, on va à l'instruction suivante (on ajoute 1 au compteur d'étape).
                </p>

                <table id="instructions">
                    <tr> 
                        <th>Code</th>
                        <th>Mnémonique</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>000</td>
                        <td>HLT (Arrêt)</td>
                        <td>Arrête l'exécution du programme, le numéro d'étape n'est pas incrémenté.</td>
                    </tr>
                    <tr>
                        <td>001</td>
                        <td>INP (Entrée)</td>
                        <td>Demande à l'utilisateur d'entrer un nombre et le met dans l'accumulateur.</td>
                    </tr>
                    <tr>
                        <td>002</td>
                        <td>OUT (Sortie)</td>
                        <td>Donne à l'utilisateur le nombre qui est dans l'accumulateur.</td>
                    </tr>
                    <tr>
                        <td>100 à 199</td>
                        <td>STA (Sauvegarde)</td>
                        <td>Remplace la valeur à l'adresse formée par les deux derniers chiffres du code par le contenu de l'accumulateur.</td>
                    </tr>
                    <tr>
                        <td>200 à 299</td>
                        <td>LDA (Chargement)</td>
                        <td>Remplace le contenu de l'accumulateur par la valeur à l'adresse formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>300 à 399</td>
                        <td>ADD (Addition)</td>
                        <td>Ajoute à l'accumulateur la valeur à l'adresse formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>400 à 499</td>
                        <td>SUB (Soustraction)</td>
                        <td>Soustrait à l'accumulateur la valeur à l'adresse formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>500 à 599</td>
                        <td>BRA (Saut)</td>
                        <td>Le numéro d'étape est changé par le nombre formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>600 à 699</td>
                        <td>BRZ (Saut si zéro)</td>
                        <td>Si la valeur dans l'accumulateur est égale à zéro, le numéro d'étape est changé par le nombre formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>700 à 799</td>
                        <td>BRP (Saut si positif)</td>
                        <td>Si la valeur dans l'accumulateur est supérieure ou égale à zéro, le numéro d'étape est changé par le nombre formée par les deux derniers chiffres du code.</td>
                    </tr>
                    <tr>
                        <td>800 à 899</td>
                        <td>BRN (Saut si négatif)</td>
                        <td>Si la valeur dans l'accumulateur est strictement inférieure à zéro, le numéro d'étape est changé par le nombre formée par les deux derniers chiffres du code.</td>
                    </tr>
                </table>
            </div>
        </section>

        <section>
            <div class="title">Registres et contrôles</div>
            <div class="content">
                <button onclick="step();">Étape suivante</button>
                <button onclick="reset_regs();">Remise à zéro</button>
    
                <div id="regs"> 
                    <div class="label">Étape</div>
                    <input id="reg_ip" type="text" readonly>

                    <div class="label">Accumulateur</div>
                    <input id="reg_acc" type="text" readonly>
                
                    <div class="label">Dernière instruction</div>
                    <textarea id="log" readonly rows="3" cols="10"></textarea>
                </div>
            </div>
        </section>
    
        <section>
            <div class="title">Mémoire</div>
            <div class="content">
                <button onclick="reset_mem();">Remise à zéro</button>
                <button onclick="example(0);">Exemple addition</button>
                <button onclick="example(0);">Exemple ---</button>
                <button onclick="example(0);">Exemple ---</button>
                <button onclick="example(0);">Exemple ---</button>
                <button onclick="example(0);">Exemple ---</button>
                <table id="memory"></table>
            </div>  
        </section>

    </div> 
    <script src="script.js"></script>
    <script>init();</script>

</body>
</html>

